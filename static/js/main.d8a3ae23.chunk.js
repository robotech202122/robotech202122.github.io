(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{117:function(e,t){},322:function(e){e.exports=JSON.parse('{"localterra":{"counter":{"codeId":"2","contractAddresses":{"default":"terra10pyejy66429refv3g35g2t7am0was7ya7kz2a4"}},"clicker":{"codeId":"7","contractAddresses":{"default":"terra1y45vkh0n6kplaeqw6ratuertapxupz53wdg6vd"}}},"testnet":{"clicker":{"codeId":"67721","contractAddresses":{"default":"terra1wnv0r595fvwqhjpqvzamcu23ax2gd476gqe50c"}}}}')},325:function(e,t,n){},445:function(e,t){},447:function(e,t){},457:function(e,t){},459:function(e,t){},472:function(e,t){},474:function(e,t){},559:function(e,t){},561:function(e,t){},570:function(e,t){},612:function(e,t,n){},613:function(e,t,n){},614:function(e,t,n){"use strict";n.r(t);var c=n(21),a=(n(325),n(42)),r=n(65),s=n(3),i=[{name:"Play",link:"/play"},{name:"Leaderboard",link:"/leaderboard"},{name:"How to play",link:"/guide"}],o=function(){return Object(s.jsx)("div",{className:"game-menu",children:i.map((function(e,t){var n=e.name,c=e.link;return Object(s.jsx)(r.b,{to:c,className:"menu-item",children:Object(s.jsx)("span",{className:"item-text",children:n})},t)}))})},l=function(){var e=Object(a.d)(),t=Object(c.a)({},e).terraAddress;return Object(s.jsx)("div",{children:t&&Object(s.jsx)("button",{className:"wallet-address",children:t.slice(0,5)+"..."+t.slice(-4)})})};var u=function(){var e=Object(a.e)(),t=e.status,n=e.connect,c=e.disconnect,r=e.availableConnectTypes;return console.log("Wallet status is ",t),console.log("Available connection types:",r),Object(s.jsxs)("main",{className:"App",children:[Object(s.jsxs)("header",{children:[Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694"}),Object(s.jsx)("p",{children:"Only you can save us from Goblin town"})]}),Object(s.jsx)(l,{})]}),t===a.b.WALLET_NOT_CONNECTED&&Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://media.giphy.com/media/B19AYwNXoXtcs/giphy.gif",alt:"Goblin gif"})}),t===a.b.WALLET_CONNECTED&&Object(s.jsx)("div",{className:"game-menu-container",children:Object(s.jsx)(o,{})}),t===a.b.WALLET_NOT_CONNECTED?Object(s.jsx)("div",{className:"connect-wallet-div",children:Object(s.jsx)("button",{type:"button",onClick:function(){return n("EXTENSION")},className:"cta-button connect-wallet-button",children:"Connect wallet"},"connect-EXTENSION")}):t===a.b.WALLET_CONNECTED?Object(s.jsx)("button",{type:"button",onClick:function(){return c()},className:"cta-button connect-wallet-button",children:"Disconnect"}):void 0]})},j=n(1),d=n.n(j),b=n(321),h=n.n(b),O=n(17),f=(n(612),n(6)),p=n(18),x=n(0),m=n.n(x),v=n(23),w=n(322),g=function(e){return w[e.network.name].clicker.contractAddresses.default},N=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=Date.now()+36e5,y=Date.now()+6e4,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.Fee(2e5,{uluna:1e4});return function(){var n=Object(f.a)(m.a.mark((function n(c){var a,r,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new v.LCDClient({URL:c.network.lcd,chainID:c.network.chainID}),n.next=3,c.post({fee:t,msgs:[new v.MsgExecuteContract(c.walletAddress,g(c),e)]});case 3:r=n.sent,s=r.result;case 5:return n.prev=6,n.next=9,a.tx.txInfo(s.txhash);case 9:return n.abrupt("return",n.sent);case 12:if(n.prev=12,n.t0=n.catch(6),!(Date.now()<y)){n.next=19;break}return n.next=17,N(500);case 17:n.next=25;break;case 19:if(!(Date.now()<k)){n.next=24;break}return n.next=22,N(1e4);case 22:n.next=25;break;case 24:throw new Error("Transaction queued. To verify the status, please check the transaction hash: ".concat(s.txhash));case 25:n.next=5;break;case 27:case"end":return n.stop()}}),n,null,[[6,12]])})));return function(e){return n.apply(this,arguments)}}()},C=function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E({upsert_score:{score:n}})(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=(n(613),function(){return Object(s.jsxs)("div",{className:"lds-ring",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}),A=function(){var e=Object(a.d)(),t=Object(j.useState)(15),n=Object(p.a)(t,2),r=n[0],i=n[1],o=Object(j.useState)(!1),l=Object(p.a)(o,2),u=(l[0],l[1],Object(j.useState)({top:"15%",left:"50%"})),d=Object(p.a)(u,2),b=d[0],h=d[1],O=Object(j.useState)({top:"25%",left:"75%"}),x=Object(p.a)(O,2),v=x[0],w=x[1],g=Object(j.useState)(!1),N=Object(p.a)(g,2),k=N[0],y=N[1],E=Object(j.useState)(0),A=Object(p.a)(E,2),S=A[0],D=A[1];Object(j.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>0?e-1:0}))}),1e3);return e}),[]),Object(j.useEffect)((function(){0===r&&(h({display:"none"}),w({display:"none"}),alert("Game Over! Your score is ".concat(S,". Please confirm transaction to submit score.")),L())}),[r]);var L=function(){var t=Object(f.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"testnet"!==e.network.name){t.next=9;break}return y(!0),t.next=4,C(e,S);case 4:n=t.sent,console.log(n),alert("Score submitted!"),y(!1),window.location.href="/leaderboard";case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsxs)("div",{className:"play-container",children:[Object(s.jsxs)("span",{children:["Score: ",S]}),Object(s.jsx)("span",{children:"Fight!"}),Object(s.jsxs)("span",{children:["Time left: ",r," s"]})]}),k?Object(s.jsx)(T,{}):Object(s.jsxs)("div",{className:"game-container",children:[Object(s.jsx)("img",{src:"pepe.png",id:"target",alt:"Target",style:Object(c.a)({},b),onClick:function(){var e=new Audio("/Zergling_explodes.mp3");e.volume=.2,e.play(),D((function(e){return e+1})),h({top:"".concat(Math.floor(80*Math.random()),"%"),left:"".concat(Math.floor(80*Math.random()),"%")})}}),Object(s.jsx)("img",{src:"pepe1.png",id:"target",alt:"Target",style:Object(c.a)({},v),onClick:function(){var e=new Audio("/Zergling_explodes.mp3");e.volume=.2,e.play(),D((function(e){return e+1})),w({top:"".concat(Math.floor(70*Math.random()),"%"),left:"".concat(Math.floor(70*Math.random()),"%")})}}),Object(s.jsx)("img",{src:"Marine.png",id:"marine-img",alt:"Marine"})]})]})},S=function(){return Object(s.jsxs)("main",{className:"App",children:[Object(s.jsx)("header",{children:Object(s.jsx)(r.b,{to:"/",className:"home-link",children:Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(s.jsx)("p",{children:"Only you can save us from Goblin town"})]})})}),Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsx)("h3",{children:"How to play"}),Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"help",children:"Click as many goblins as you can within 15 seconds!"})})]})]})},D=function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Contract address is ",g(t)),n=new v.LCDClient({URL:t.network.lcd,chainID:t.network.chainID}),e.abrupt("return",n.wasm.contractQuery(g(t),{get_scores:{}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.useState)(),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(j.useState)(!0),o=Object(p.a)(i,2),u=o[0],d=o[1],b=Object(a.d)();Object(j.useEffect)((function(){d(!0);var e=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||"testnet"!==b.network.name){e.next=4;break}return e.next=3,D(b);case 3:return e.abrupt("return",e.sent.scores);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){c(e),d(!1)}))}),[b]);return Object(s.jsxs)("main",{className:"App",children:[Object(s.jsxs)("header",{children:[Object(s.jsx)(r.b,{to:"/",className:"home-link",children:Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(s.jsx)("p",{children:"Only you can save us from Goblin town"})]})}),Object(s.jsx)(l,{})]}),Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsx)("h3",{children:"Scoreboard"}),u?Object(s.jsx)("div",{children:"Loading..."}):function(e){return!e||e.length<1?Object(s.jsx)("div",{children:" No scores available :( "}):e.map((function(e,t){return Object(s.jsx)("div",{className:"score",children:Object(s.jsxs)("span",{children:[e[0].slice(0,5)+"..."+e[0].slice(-4),":"," ",e[1].toString().padStart(2,"0")]})},t)}))}(n),Object(s.jsx)("div",{})]})]})},M="_buildspace",I="https://twitter.com/".concat(M);Object(a.c)().then((function(e){h.a.render(Object(s.jsx)(d.a.StrictMode,{children:Object(s.jsx)(a.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(s.jsxs)("div",{className:"App-header",children:[Object(s.jsx)(r.a,{children:Object(s.jsxs)(O.c,{children:[Object(s.jsx)(O.a,{path:"/",element:Object(s.jsx)(u,{})}),Object(s.jsx)(O.a,{path:"/play",element:Object(s.jsx)(A,{})}),Object(s.jsx)(O.a,{path:"/leaderboard",element:Object(s.jsx)(L,{})}),Object(s.jsx)(O.a,{path:"/guide",element:Object(s.jsx)(S,{})})]})}),Object(s.jsxs)("div",{className:"footer-container",children:[Object(s.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:"/twitter-logo.svg"}),Object(s.jsx)("a",{className:"footer-text",href:I,target:"_blank",rel:"noreferrer",children:"Made with @".concat(M)})]})]})}))}),document.getElementById("root"))}))}},[[614,1,2]]]);
//# sourceMappingURL=main.d8a3ae23.chunk.js.map